# 文件与路径

当你按照前文的教程安装好 Linux，并打开文件管理器时，你可能会惊讶：`我的 C 盘呢？`

## Linux 的文件结构

当你第一次打开文件管理器时，可能会看到“主目录”这样的字样，但找不到 C 盘和 D 盘。

实际上，Linux 的文件管理结构与 Windows 有较大差别。

> 在 Windows 的文件系统中，“路径分隔符”（即文件夹之间的斜杠）是 `\`（反斜杠），而在 Linux 和 macOS（准确来说是任何符合 POSIX 标准的系统）中是 `/`（正斜杠）。在 Windows 中，正斜杠被当作参数的前缀符号（Linux 中是 `-`）。下文不再赘述。

在 Linux 中，我们所说的 C 盘就是 `/`（称为根目录，仅有一个斜杠）。那么，D 盘和 E 盘等呢？它们通常被挂载到其他位置，甚至可以自定义这些位置（Windows 也可以，但路径较深）。一般情况下，它们会被挂载到 `/mnt`、`/run/mount` 或 `/media/你的用户名` 下（具体位置因发行版和桌面环境而异。如果你按照前文的安装方法，应该在 `/media/你的用户名` 中）。

你所看到的主目录（或用户目录）位于 `/home/你的用户名`（Linux 中 root 用户的目录是 `/root`），相当于 `C:\Users\你的用户名`（macOS：`/Users/你的用户名`）。在这里可以存放个人文件和代码。

此外，还有一些特殊的目录：

1. `.` 表示当前所在的目录。
2. `..` 表示上一级目录，而 `/` 的上级目录是其自身。

> 注：在 Windows 下也有一个隐藏的根目录，但几乎无法访问。

## 基本命令行

以上内容均为图形界面下的操作。如果只有终端，我们该如何操作？

首先，在终端中，记住：输入任何命令后需要按下回车键，告诉终端命令已完成。

### `pwd` 查看当前目录

如何知道当前所在的目录？可以输入：

```bash
pwd
```

终端会立即显示当前所在的目录路径（如果是刚打开的终端，通常位于主目录）。

### `ls` 列出所有文件和目录

终端无法像图形界面那样直观地显示文件和目录。如果看不到当前目录下的内容，就像“盲人摸象”。

此时可以使用以下命令：

```bash
ls
```

该命令会列出当前目录下的所有文件和目录。不同的颜色表示文件或目录的不同类型。

`ls` 还有一些参数，例如输入 `ls -al` 可以纵向排列显示文件的详细信息，输入文件名可以筛选出特定文件或目录。

### `cd` 切换目录

在文件系统中切换目录，可以使用以下命令：

```bash
cd <目标目录>
```

如果目录以 `/` 开头，则从根目录开始查找；否则从当前目录开始查找。`cd ..` 表示返回上一级目录。

这三个命令是命令行中最常用的命令。如果你是第一次接触命令行，是否感觉自己像个黑客？

### `mv` 移动文件

在 Linux 命令行中，没有“剪切”操作。

```bash
mv <源文件或目录> <目标路径或新名称>
```

该命令可以移动或重命名文件或目录（两者是同一个命令）。

> 在同一磁盘内移动速度很快，但跨磁盘可能较慢。

### `cp` 复制文件

复制文件的命令如下：

```bash
cp <源文件或目录> <目标路径或新名称>
```

### `rm` 删除文件

删除文件的命令如下：

> 删除操作具有较高风险，请勿删除根目录或其他重要目录！在按下回车键前务必三思！

```bash
rm <目标文件>
```

删除目录的命令稍有不同：

```bash
rm -r <目标目录>
```

在 `r` 后加上 `f` 表示强制删除，例如 `rm -rf /*` 会强制删除根目录下的所有文件。看到这条命令时请勿轻易尝试！

> 如果你想尝试，请务必在虚拟机中操作，并准备好重装系统。

## 磁盘与挂载

你可能会注意到，在根目录中还有其他磁盘。这是因为在 Linux 系统中，所有磁盘都需要挂载后才能访问，且必须挂载在根目录下。

前文提到，Linux 的“一切皆文件”理念适用于硬盘。通常，`/dev/sd+一个小写字母` 表示硬盘（也可能是 `/dev/nvmeX` 或 `/dev/mmcblkX`，其中 X 是数字），分区则为 `/dev/sd+一个小写字母+数字`，例如 `/dev/sdc3`。

可以使用 `lsblk` 命令查看所有硬盘和分区。

磁盘文件无法直接访问，需要挂载。如果使用桌面环境或文件管理器，点击磁盘即可自动挂载。

关于挂载的详细内容将在后续章节中介绍。

### Linux 下的重要目录

刚安装完 Linux 时，根目录下会有一些重要目录（请勿删除！）：

* `/boot` 存放系统启动信息。
* `/dev` 包含大部分设备对应的文件。
* `/proc` 存放所有进程信息（体现 Linux 的“一切皆文件”理念）。
* `/lib` 存放所有重要的库文件，部分系统中可能有 `lib64`。
* `/etc` 存放软件配置文件（内容较杂）。
* `/opt` 扩展软件目录，少部分软件会安装到此处。
* `/tmp` 存放临时文件，通常挂载到内存中。
* `/usr` 包含系统核心文件，其中的 `bin` 目录包含上述除 `cd` 外的所有命令，`sbin` 目录包含仅限 root 用户使用的命令。这两个目录还被映射到根目录的同名目录中。
* `/var` 存放经常变动的重要文件，包括日志。
* `/sys` 重要的设备目录。
* `/home` 用户目录，相当于 `C:\Users`（macOS：`/Users`）。

到此为止，你应该已经掌握了 Linux 文件系统的基本使用方法。
